###################################
#
# SUNSET INVASION
# - The Fantasy Menace
#
###################################

# Written by Henrik Fåhraeus and Henrik Eklund

namespace = SSI

# First Contact - Beads and Feathers
province_event = {
	id = SSI.1
	desc = EVTDESC_SSI_001

	picture = GFX_evt_aztec_explorers
	border = GFX_event_normal_frame_war

	trigger = {
		has_dlc = "Sunset Invasion"
		year = 1600
		NOT = { year = 2000 }
		NOT = { has_global_flag = aztec_explorers }
		OR = {
			province_id = 954 # Baerghos Island
			province_id = 242 # Dantier Island
			province_id = 904 # Svinoy Island
			province_id = 903 # Krakenstaur
			province_id = 741 # Namal
			province_id = 446 # Holde
			province_id = 996 # Velmino
			province_id = 610 # Stnerba
			province_id = 952 # Klaus' Cove
			province_id = 1069 # Sira
		}
	}

	immediate = {
		set_global_flag = aztec_explorers
		set_province_flag = aztec_explorers
		activate_title = { title = e_shadowworld status = yes }
		
		b_imperial_cairn = {
			holder_scope = {
				create_random_soldier = {
					dynasty = 349 # Azarias
					random_traits = yes
					culture = Vos
					religion = Shadowworld
				}
				new_character = {
					e_shadowworld = {
						grant_title = PREV
					}
					set_defacto_liege = THIS
					narrative_event = { id = SSI.2 days = 7 }
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 720
		modifier = {
			factor = 0.5
			year = 1600
		}
	}

	option = {
		name = EVTOPTA_SSI_001
	}
}

# Rumors of people from across the Atlantic
narrative_event = {
	id = SSI.2
	title = EVTNAME_SSI_002
	desc = EVTDESC_SSI_002
	major = yes
	
	picture = GFX_evt_aztec_explorers
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	major_trigger = {
		FROM = { owner = { NOT = { character = PREVPREV } } }
	}
	
	immediate = {
		e_shadowworld = {
			holder_scope = {
				character_event = { id = CM.10018 }  # Chronicle
			}
		}
	}
	
	option = {
		name = EVTOPTA_SSI_002
	}
}

# First Landing of the Aztecs
province_event = {
	id = SSI.3
	desc = EVTDESC_SSI_003
	
	picture = GFX_evt_battle_mesoamerican
	border = GFX_event_normal_frame_war
	
	trigger = {
		year = 1601
		NOT = { has_global_flag = aztec_arrival }
		had_province_flag = { flag = aztec_explorers days = 730 }
	}
	
	immediate = {
		set_global_flag = aztec_arrival
		culture = Vos
		religion = Shadowworld
		e_shadowworld = {
			holder_scope = {
				narrative_event = { id = SSI.4 }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 6
	}
	
	option = {
		name = EVTOPTA_SSI_003
	}
}

# First Landing of the Aztecs
narrative_event = {
	id = SSI.4
	title = EVTNAME_SSI_004
	desc = EVTDESC_SSI_004
	major = yes
	hide_new = yes
	
	picture = GFX_evt_battle_mesoamerican
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	major_trigger = {
		FROM = { owner = { NOT = { character = PREVPREV } } }
	}
	
	immediate = {
		any_playable_ruler = {
			limit = {
				ai = no
				capital_scope = {
					NOT = { empire = { title = e_gorgons_crown } }
#					NOT = { empire = { title = e_bengal } }
#					NOT = { empire = { title = e_deccan } }
#					NOT = { empire = { title = e_india } }
				}
			}
			character_event = { id = CM.10020 }  # Chronicle
		}

		wealth = 10000
		FROM = {
			kingdom = {
				ROOT = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the province owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}

		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops = 
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 31
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 24
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 23
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 18
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 28
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 29
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
		}
		
		# Ships
		if = {
			limit = {
				FROM = { 
					OR = {
						province_id = 1 # Vestisland
						province_id = 9 # Connacht
						province_id = 35 # Inse Gall
						province_id = 31 # Cornwall
					}
				}
			}
			FROM = {
				sea_zone = {
					ROOT = {
						spawn_unit = {
							province = PREV
							home = FROM
							owner = ROOT
							earmark = aztec_invasion_fleet
							troops =
							{
								galleys = { 1000 1000 }
							}
						}
					}
				}
			}
		}
		
		# Some extra courtiers
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 20
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 25
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 26
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 28
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 17
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = yes
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = yes
			age = 17
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = yes
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = yes
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = yes
			age = 20
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = yes
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = yes
			age = 16
		}
	}
	
	option = {
		name = EVTOPTA_SSI_004
	}
}

# Second Landing of the Aztecs
province_event = {
	id = SSI.5
	desc = EVTDESC_SSI_005
	
	picture = GFX_evt_aztec_arrival
	border = GFX_event_normal_frame_war
	
	trigger = {
		year = 1250
		has_global_flag = aztec_arrival
		NOT = { has_global_flag = aztec_arrival_2 }
		OR = {
			province_id = 954 # Baerghos Island
			province_id = 242 # Dantier Island
			province_id = 904 # Svinoy Island
			province_id = 903 # Krakenstaur
			province_id = 741 # Namal
			province_id = 446 # Holde
			province_id = 996 # Velmino
			province_id = 610 # Stnerba
			province_id = 952 # Klaus' Cove
			province_id = 1069 # Sira
		}
		owner = {
			NOT = { religion = Shadowworld }
		}
	}

	immediate = {
		set_global_flag = aztec_arrival_2
		culture = Vos
		religion = Shadowworld
		e_shadowworld = {
			holder_scope = {
				narrative_event = { id = SSI.6 }
			}
		}
	}

	mean_time_to_happen = {
		months = 24
	}

	option = {
		name = EVTOPTA_SSI_005
	}
}

# Second Landing of the Aztecs
narrative_event = {
	id = SSI.6
	title = EVTNAME_SSI_006
	desc = EVTDESC_SSI_006
	major = yes
	hide_new = yes
	
	picture = GFX_evt_aztec_arrival
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	major_trigger = {
		FROM = { owner = { NOT = { character = PREVPREV } } }
	}
	
	immediate = {
		FROM = {
			kingdom = {
				ROOT = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the province owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = Shadowworld
			culture = Vos
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 2800 2800 }
					light_infantry = { 1400 1300 }
					archers = { 1400 1300 }
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = Shadowworld
				culture = Vos
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 2800 2800 }
						light_infantry = { 1400 1300 }
						archers = { 1400 1300 }
					}
				}
			}
		}
		
		# Ships
		if = {
			limit = {
				FROM = { 
					OR = {
						province_id = 1 # Vestisland
						province_id = 9 # Connacht
						province_id = 35 # Inse Gall
						province_id = 31 # Cornwall
					}
				}
			}
			FROM = {
				sea_zone = {
					ROOT = {
						spawn_unit = {
							province = PREV
							home = FROM
							owner = ROOT
							earmark = aztec_invasion_fleet
							troops =
							{
								galleys = { 1000 1000 }
							}
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SSI_006
	}
}

# Aztec Invasion Fleets disband
character_event = {
	id = SSI.100
	hide_window = yes
	
	trigger = {
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_invasion_fleet_disbanded }
		had_global_flag = { flag = aztec_arrival days = 18250 }
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	immediate = {
		disband_event_forces = aztec_invasion_fleet
		set_global_flag = aztec_invasion_fleet_disbanded
	}
	
	option = {
		name = OK
	}
}

# Aztecs Thrown Back Into the Sea
narrative_event = {
	id = SSI.105
	title = EVTNAME_SSI_105
	desc = EVTDESC_SSI_105
	
	picture = GFX_evt_aztec_arrival
	border = GFX_event_narrative_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival_2
		NOT = { has_global_flag = aztecs_defeated }
		has_landed_title = e_shadowworld
		has_regiments = no
		is_landed = no
	}
	
	major_trigger = {
		ai = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		activate_title = { title = e_shadowworld status = no }
		set_global_flag = aztecs_defeated
	}
	
	option = {
		name = EVTOPTA_SSI_105
	}
}

# Aztecs Fight Incas
narrative_event = {
	id = SSI.30
	title = EVTNAME_SSI_030
	desc = EVTDESC_SSI_030
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_narrative_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_incas }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 220
	}
	
	immediate = {
		set_global_flag = aztec_incas
	}
	
	option = {
		name = EVTOPTA_SSI_030
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_030
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Pacify Northern Plains
narrative_event = {
	id = SSI.31
	title = EVTNAME_SSI_031
	desc = EVTDESC_SSI_031
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_narrative_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_plains }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 220
	}
	
	immediate = {
		set_global_flag = aztec_plains
	}
	
	option = {
		name = EVTOPTA_SSI_031
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_031
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Food From the Americas
narrative_event = {
	id = SSI.35
	title = EVTNAME_SSI_035
	desc = EVTDESC_SSI_035
	
	picture = GFX_evt_aztec_explorers
	border = GFX_event_narrative_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_food }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 220
	}
	
	immediate = {
		set_global_flag = aztec_food
	}
	
	option = {
		name = EVTOPTA_SSI_035
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_035
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Iceland/Baerghos
character_event = {
	id = SSI.40
	desc = EVTDESC_SSI_040
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_iceland }
		completely_controls = d_baerghos
	}
	
	major_trigger = {
		ai = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_iceland
	}
	
	option = {
		name = EVTOPTA_SSI_040
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Ireland/Sardalas
character_event = {
	id = SSI.41
	desc = EVTDESC_SSI_041
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_ireland }
		
		completely_controls = d_sardalas
	}
	
	major_trigger = {
		ai = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_ireland
	}
	
	option = {
		name = EVTOPTA_SSI_041
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Britain/Sahirde el-Mehare
character_event = {
	id = SSI.42
	desc = EVTDESC_SSI_042
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_britain }
		completely_controls = d_besarif
		completely_controls = d_askarus
		completely_controls = d_djinara
		completely_controls = d_inner_besarif
		completely_controls = d_sardalas
		completely_controls = d_semara
	}
	
	major_trigger = {
		ai = no
	}

	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_britain
	}
	
	option = {
		name = EVTOPTA_SSI_042
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold London/Sira
character_event = {
	id = SSI.43
	desc = EVTDESC_SSI_043
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		completely_controls = c_sira
		NOT = { has_global_flag = aztec_london }
	}
	
	major_trigger = {
		ai = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_london
	}
	
	option = {
		name = EVTOPTA_SSI_043
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Paris/Imperial City
character_event = {
	id = SSI.44
	desc = EVTDESC_SSI_044
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		completely_controls = c_imperial_city
		NOT = { has_global_flag = aztec_paris }
	}
	
	major_trigger = {
		ai = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_paris
	}
	
	option = {
		name = EVTOPTA_SSI_043
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Rome/Seasedge
character_event = {
	id = SSI.45
	desc = EVTDESC_SSI_045
	
	picture = GFX_evt_rome_falls
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		completely_controls = c_seasedge
		NOT = { has_global_flag = aztec_rome }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_rome
	}
	
	option = {
		name = EVTOPTA_SSI_043
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Constantinople/Aerele
character_event = {
	id = SSI.46
	desc = EVTDESC_SSI_046
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		completely_controls = c_aerele
		NOT = { has_global_flag = aztec_constantinople }
	}
	
	major_trigger = {
		ai = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_constantinople
	}
	
	option = {
		name = EVTOPTA_SSI_043
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Cordoba/Moriel
character_event = {
	id = SSI.47
	desc = EVTDESC_SSI_047
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		completely_controls = c_moriel
		NOT = { has_global_flag = aztec_cordoba }
	}
	
	major_trigger = {
		ai = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_cordoba
	}
	
	option = {
		name = EVTOPTA_SSI_043
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Hold Cairo/Ariya
character_event = {
	id = SSI.48
	desc = EVTDESC_SSI_048
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_normal_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		completely_controls = c_ariya
		NOT = { has_global_flag = aztec_cairo }
	}
	
	major_trigger = {
		ai = no
	}

	mean_time_to_happen = {
		days = 1
	}
		
	immediate = {
		set_global_flag = aztec_cairo
	}
	
	option = {
		name = EVTOPTA_SSI_043
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_040
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Sacrifice Prisoner
character_event = {
	id = SSI.60
	desc = EVTDESC_SSI_060
	
	picture = GFX_evt_bishop_aztec
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SSI_060
	}
}

# Aztecs Sacrifice Occupied Province Character
character_event = {
	id = SSI.61
	hide_window = yes
	
	ai = yes
	
	is_triggered_only = yes
	
	trigger = {
		in_command = no
		prisoner = no
		age = 16
		NOT = { religion = Shadowworld }
		NOT = {
			any_liege = {
				has_landed_title = e_shadowworld
			}
		}
		new_character = {
				religion = Shadowworld
		}
	}
	
	immediate = {
		liege = {
			character_event = { id = SSI.62 }
		}
		death = { death_reason = death_sacrificed }
	}
	
	option = {
		name = OK
	}
}

# Liege Informed of Sacrifice
character_event = {
	id = SSI.62
	desc = EVTDESC_SSI_060
	
	picture = GFX_evt_bishop_aztec
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SSI_060
	}
}

# Aztecs Bring Syphilis
narrative_event = {
	id = SSI.70
	title = EVTNAME_SSI_070
	desc = EVTDESC_SSI_070
	
	picture = GFX_evt_aztec_explorers
	border = GFX_event_narrative_frame_war
	
	trigger = {
		has_global_flag = aztec_arrival
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztec_syphilis }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 150
	}
	
	immediate = {
		set_global_flag = aztec_syphilis
		activate_disease = syphilis
	}
	
	option = {
		name = EVTOPTA_SSI_070
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_070
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Struck by Smallpox
narrative_event = {
	id = SSI.71
	title = EVTNAME_SSI_071
	desc = EVTDESC_SSI_071
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_narrative_frame_war
	
	major = yes
	
	trigger = {
		has_global_flag = aztec_arrival
		has_global_flag = aztec_syphilis
		has_landed_title = e_shadowworld
		NOT = { has_global_flag = aztecs_defeated }
		NOT = { has_global_flag = aztec_smallpox }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 150
	}
	
	immediate = {
		set_global_flag = aztec_smallpox
	}
	
	option = {
		name = EVTOPTA_SSI_071
		trigger = {
			NOT = { has_landed_title = e_shadowworld }
		}
	}
	option = {
		name = EVTOPTB_SSI_071
		trigger = {
			has_landed_title = e_shadowworld
		}
	}
}

# Aztecs Sacrifice Prisoner (Aztec perspective)
character_event = {
	id = SSI.72
	desc = EVTDESC_SSI_072
	
	picture = GFX_evt_bishop_aztec
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SSI_072
	}
}

