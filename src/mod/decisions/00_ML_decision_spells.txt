#######################################################
# Mythic Legends
# Decisions
#
# Author:  NightAvail
#######################################################

decisions = {
    # Open the spellbook.
    ml_decision_spells_open_spellbook = {
        min_age = 16

        potential = {
            trait = ml_trait_magical_blood

            has_trait = ml_flag_chose_mage_class

            NOT = {
                has_character_flag = ml_flag_spellbook_open
            }
        }

        ai_will_do = {
            factor = 0
        }

        revoke_allowed = {
            always = no
        }

        effect = {
            set_character_flag = ml_flag_spellbook_open
        }
    }

    # Close the spellbook.
    ml_decision_spells_close_spellbook = {
        is_high_prio = yes

        potential = {
            trait = ml_trait_magical_blood

            has_trait = ml_flag_chose_mage_class
            has_character_flag = ml_flag_spellbook_open
        }

        ai_will_do = {
            factor = 0
        }

        revoke_allowed = {
            always = no
        }

        effect = {
            clr_character_flag = ml_flag_spellbook_open
        }
    }

    # Activate buff spell.
    ml_decision_spells_activate_buff = {
        potential = {
            trait = ml_trait_magical_blood

            has_character_flag = ml_flag_spellbook_open
        }

        revoke_allowed = {
            always = no
        }

        effect = {
            character_event = {
                id = "ml_events_spell.1"
            }
        }
    }

    # Cast healing spell.
    ml_decision_spells_cast_healing = {
        potential = {
            trait = ml_trait_magical_blood

            has_character_flag = ml_flag_spellbook_open
        }
    }

    # Activate plague spell.
    ml_decision_spells_activate_plague = {
        potential = {
            trait = ml_trait_magical_blood

            has_character_flag = ml_flag_spellbook_open
        }
    }

    # Activate prosper spell.
    ml_decision_spells_activate_prosper = {
        potential = {
            trait = ml_trait_magical_blood

            has_character_flag = ml_flag_spellbook_open
        }
    }

    # Activate life change spell.
    ml_decision_spells_activate_life_change = {
        potential = {
            trait = ml_trait_magical_blood

            has_character_flag = ml_flag_spellbook_open
        }
    }

    # Cast summoning spell.
    ml_decision_spells_summon = {
        potential = {
            trait = ml_trait_magical_blood

            has_character_flag = ml_flag_spellbook_open
        }
    }
}
