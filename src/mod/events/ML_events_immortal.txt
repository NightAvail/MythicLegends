#######################################################
# Mythic Legends
# Events
#
# Author:  NightAvail
#######################################################

namespace = ml_events_immortal
namespace = ml_events_common

# Immortal event for curing infirm and incappable.
character_event = {
    id = "ml_events_immortal.1"
    desc = "ml_events_immortal.1desc"
    picture = GFX_evt_recovery

    trigger = {
        trait = ml_trait_immortal

        OR = {
            trait = ill
            trait = syphilitic
            trait = leper
            trait = infirm
            trait = incapable
            trait = lunatic
            trait = depressed
            trait = possessed
        }
    }

    weight_multiplier = {
        days = 1
    }

    # Activate the spell based on arcane level.
    option = {
        set_character_flag = ml_flag_recent_healing_spell

        name = ml_events_common.feelgreat

        # Master
        if = {
            # Remove Sickness
            if = {
                limit = { trait = ill }
                remove_trait = ill
            }
            if = {
                limit = { trait = syphilitic }
                remove_trait = syphilitic
            }
            if = {
                limit = { trait = leper }
                remove_trait = leper
            }

            # Heal Body
            if = {
                limit = { trait = infirm }
                remove_trait = infirm
            }
            if = {
                limit = { trait = incapable }
                remove_trait = incapable
            }
            if = {
                limit = { trait = lunatic }
                remove_trait = lunatic
            }
            if = {
                limit = { trait = depressed }
                remove_trait = depressed
            }
            if = {
                limit = { trait = possessed }
                remove_trait = possessed
            }
        }
    }
}
